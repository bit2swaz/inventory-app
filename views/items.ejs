<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/head') %>
</head>
<body>
  <div class="container">
    <header>
      <h1>All Items</h1>
      <%- include('partials/navigation') %>
    </header>
    
    <main>
      <% if (isAdmin) { %>
        <div class="admin-actions">
          <a href="/items/new" class="btn btn-success">Create New Item</a>
          <a href="/categories/new" class="btn btn-success">Create New Category</a>
        </div>
      <% } %>
      
      <div class="items-list">
        <% if (items && items.length > 0) { %>
          <% items.forEach(item => { %>
            <div class="item-card">
              <h3><a href="/items/<%= item.id %>"><%= item.name %></a></h3>
              <p class="price">$<%= parseFloat(item.price).toFixed(2) %></p>
              <p class="stock">Stock: <%= item.stock %></p>
              <p class="category">Category: <%= item.category_name %></p>
              <a href="/items/<%= item.id %>" class="btn btn-small">View Details</a>
              <% if (isAdmin) { %>
                <div class="admin-item-actions">
                  <a href="/items/<%= item.id %>/edit" class="btn btn-small">Edit</a>
                  <a href="/items/<%= item.id %>/confirm-delete" class="btn btn-small btn-danger">Delete</a>
                </div>
              <% } %>
            </div>
          <% }); %>
        <% } else { %>
          <p>No items found. <% if (isAdmin) { %><a href="/items/new" class="btn btn-small btn-success">Create New Item</a><% } %></p>
        <% } %>
      </div>
      
      <div class="navigation">
        <a href="/" class="btn">Back to Home</a>
        <a href="/categories" class="btn">View Categories</a>
      </div>
      
      <div class="theme-toggle">
        <button id="theme-switch" class="btn">Toggle Dark Mode</button>
      </div>
    </main>
    
    <%- include('partials/footer') %>
  </div>
  
  <script src="/js/theme.js"></script>
</body>
</html> 